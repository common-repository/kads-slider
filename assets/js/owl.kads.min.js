
(function(e,c,b,g){var a=0,f=0;var d=function(h){this._core=h;this._timeout=null;this._layertimeout=null;this._controls={};this._layers={};this._paused=false;this._loaded=false;this.$element=this._core.$element;this.div=b.createElement("div");this.cssfix=this.getCssFix("transition");this._layerCurrent={};this._layersCurrent={};this._lastCurrent="";this._ratio=1;this._handlers={"initialize.owl.carousel":e.proxy(function(i){if(i.namespace&&this._core.settings.layer){this.initializingLayers()}},this),"initialized.owl.carousel":e.proxy(function(i){if(i.namespace&&this._core.settings.layer){this.play()}},this),"change.owl.carousel":e.proxy(function(i){if(!i.namespace||!this._core.settings||!this._core.settings.layer){return}if((i.property&&i.property.name==="position")||i.type==="initialized"){this.stopLayers()}},this),"changed.owl.carousel":e.proxy(function(i){this.changed(i.namespace,i.property.name)},this),"resized.owl.carousel":e.proxy(function(i){if(i.namespace&&this._core.settings.layer){this.ResizeLayers()}},this),"play.owl.layer":e.proxy(function(k,i,j){if(k.namespace){this.play(i,j)}},this),"stop.owl.layer":e.proxy(function(i){if(i.namespace){this.stop()}},this),"mouseover.owl.layer":e.proxy(function(){if(this._core.settings.layerHoverPause&&this._core.is("rotating")){this.pause()}},this),"mouseleave.owl.layer":e.proxy(function(){if(this._core.settings.layerHoverPause&&this._core.is("rotating")){this.play()}},this),"touchstart.owl.core":e.proxy(function(){if(this._core.settings.layerHoverPause&&this._core.is("rotating")){this.pause()}},this),"touchend.owl.core":e.proxy(function(i){if(this._core.settings.layerHoverPause){this.play()}},this)};this._core.$element.on(this._handlers);this._core.options=e.extend({},d.Defaults,this._core.options);if(typeof kads_slider_options==="undefined"){this._core.options.layer=false}else{if(typeof kads_slider_options.key==="undefined"||kads_slider_options.key===""){this._core.options.layer=false}else{if(!this.checkLayer(kads_slider_options.key)){this._core.options.layer=false}}}};d.Defaults={layer:false,layerTimeout:5000,layerBoxWidth:1200,layerBoxHeight:500,layerAutoPlay:false,layerHoverPause:false,layerSpeed:false,layerAutoHeight:false,layerFullWidth:false,layerFullHeight:false,layerOverplay:false};d.prototype.ResizeLayers=function(){var j=e(".box-images-wraper",this.$element),i=this._core.options.layerBoxWidth,k=this._core.options.layerBoxHeight,m=this.$element.width(),h=1;if(m){h=m/i;this._ratio=h}if(this._core.settings.layerFullHeight){var l=e(c).height();j.addClass("box-images-full-height");j.css({width:m});e(j).append('<div class="kads-scroll-down"><i class="fa fa-angle-double-down faa-vertical animated" aria-hidden="true"></i></div>');e("body").on("click",".box-images-wraper .kads-scroll-down",function(n){n.preventDefault();e("html, body").stop().animate({scrollTop:l},{duration:600})})}else{if(this._core.settings.layerFullWidth){j.css({width:m,height:h*k})}else{j.css({width:m,height:h*k})}}return j};d.prototype.LayerGetId=function(k){var m=new Date();var h=m.getTime()+k+1+Math.random();var n=(h+9).toString(36);var l=/[0-9a-zA-Z]+/g.exec(n);if(l&&l[0]){var j=l[0];return j}return this._getId(Math.random())};d.prototype.initializingLayers=function(){var l=this.ResizeLayers(),n=this._ratio,s={},j=0,m=500,r=this.getCss("animation-duration"),i=this.getCss("animation-delay"),t=(e.support.animation||e.support.transition),q="top left width height animateIn animateInState animateOut animateOutState speed wait".split(" "),k={el:0,type:"html",link:"",wait:0,speed:3300,animateIn:"fade",animateOut:"fade"},o=this.getItemOptions(),h=this.LayerGetId;if(this._core.options.layerOverplay){e(l).append('<div class="box-overplay">')}var p=function(u){return(typeof u==="undefined"||!u)};l.each(function(v,w){var y=e(".layer-item",w);var x=o;var u=h(v);e(".layer-container",w).attr("box-layer-id",u);y.each(function(C,B){var E=e(this);var F=h((v+1)*100+C+1);E.addClass(F);var H={};e.each(q,function(){H[this]=E.attr(this)});var z=e.extend(true,{},k,H);var D=z.animateIn+"In";if(!p(z.animateInState)){D+=z.animateInState}var G=z.animateOut+"Out";if(!p(z.animateOutState)){G+=z.animateOutState}z.id=F;z._class=e(E).attr("class");z._in=z._class+" "+D+" animated";z._out=z._class+" "+G+" animated";z._delay=(z.wait*1)+100;z._speed=z.speed+"ms";z.speed=z.speed*1;z.outspeed=m-100;var A=z.wait+(z.speed/100);if(A>j){j=A}if(t){z._animateIn=function(I){e(I).css(r,this._speed);e(I).css(i,this._delay+"ms");e(I).removeClassExcept(this._in)};z._animateOut=function(I){e(I).css(r,this.outspeed+"ms");e(I).css(i,"0s");e(I).removeClassExcept(this._out)};z._reset=function(I){e(I).css(r,"");e(I).removeClassExcept(this._class)};e(z.el).removeClassExcept(z._out)}else{z._animateIn=function(I){var J=this;setTimeout(function(){I.animate({opacity:1,top:J.top},J.speed)},this._delay)};z._animateOut=function(I){e(I).animate({opacity:0},this.outspeed)};z._reset=function(I){var J=this;I.css({top:((J.top*n)-75),opacity:0,width:(J.width*n),height:(J.height*n)})}}x.timewait=j+10;x.timespeed=m;x.layers[F]=z;x.configVideo()});s[u]=x});this._layers=s;this._loaded=true};d.prototype.getCssFix=function(i){if(i in this.div.style){return""}i=i.replace(/^[a-z]/,function(j){return j.toUpperCase()});var h=this.vendors.length;while(h--){if(this.vendors[h]+i in this.div.style){switch(this.vendors[h]){case"Khtml":return"-khtml-";case"Ms":return"-ms-";case"O":return"-o-";case"Moz":return"-moz-";case"Webkit":return"-webkit-";default:return""}}}return""};d.prototype.changed=function(i,h){if(i&&h==="settings"){if(this._core.settings.layer){this.play()}else{this.stop()}}else{if(i&&h==="position"){if(this._core.settings.layer){this._setAutoPlayInterval()}}}};d.prototype.setRatio=function(){var i=e(this.$element)[0];var h=i.clientWidth||c.innerWidth;this._width=h;this._ratio=h/1200};d.prototype.getCss=function(h){return this.cssfix+h};d.prototype.getItemOptions=function(){var i={loop:false,alwaysShowControls:false,startVolume:50,features:[]};var h=this;var j={layers:{},el:null,timewait:0,animal:"fade",type:"fade",layerReset:function(l,k){e.each(this.layers,function(){var m=e(".layer-item."+this.id,l);e(m).css({top:((this.top*k)-75),width:(this.width*k),height:(this.height*k)})})},layerPlay:function(k){this.el=k;e.each(this.layers,function(){var l=e(".layer-item."+this.id,k);this._animateIn(l)})},layerOut:function(){var k=this.el;e.each(this.layers,function(){var l=e(".layer-item."+this.id,k);this._animateOut(l)})},isVideo:false,player:null,configVideo:function(){var k=this.el;if(k&&this.type!==""&&this.type!=="image"&&!this.player){this.isVideo=true;var l=e(".box-image",this.el).find("audio, video").get(0);this.player=new MediaElementPlayer(l,i);this.player.play();this.stop()}},stop:function(){this.player&&this.player.pause()},play:function(){this.player&&this.player.play()}};return j};d.prototype._setAutoPlayInterval=function(){this._PlayLayers();if(this._core.options.layerAutoPlay){this._timeout=this._getNextTimeout()}};d.prototype.getLayers=function(h){if(typeof this._layers[h]!=="undefined"){return this._layers[h]}return 0};d.prototype.play=function(i,h){this._paused=false;if(this._core.is("rotating")){return}this._core.enter("rotating");this._setAutoPlayInterval()};d.prototype._getNextTimeout=function(i,h){if(this._timeout){c.clearTimeout(this._timeout)}return c.setTimeout(e.proxy(function(){if(this._paused||this._core.is("busy")||this._core.is("interacting")||b.hidden){return}this.stopLayers();this._core.next(h||this._core.settings.layerSpeed)},this),i||this._core.settings.layerTimeout)};d.prototype.stop=function(){if(!this._core.is("rotating")){return}c.clearTimeout(this._timeout);this._core.leave("rotating")};d.prototype.pause=function(){if(!this._core.is("rotating")){return}this._paused=true};d.prototype.destroy=function(){var h,i;this.stop();for(h in this._handlers){this._core.$element.off(h,this._handlers[h])}for(i in Object.getOwnPropertyNames(this)){typeof this[i]!="function"&&(this[i]=null)}};d.prototype._PlayLayers=function(){if(this._layertimeout){c.clearTimeout(this._layertimeout)}this._core.enter("layering");this._layertimeout=c.setTimeout(e.proxy(function(){this.runLayer()},this),50)};d.prototype.runLayer=function(){var h=this._core.$stage.children(".active");h.each(e.proxy(function(l,n){var m={};var p="";var o=e(".layer-container",n);if(o.length===1&&this._loaded){var k=o.attr("box-layer-id");var j=this.getLayers(k);if(j){j.layerPlay(o);a++;p="layer"+a;this._layersCurrent[p]=j;m[p]=true;this._core.leave("layering")}}f++;this._lastCurrent="layergroup"+f;this._layerCurrent[this._lastCurrent]=m},this))};d.prototype.stopLayers=function(){if(typeof this._layersCurrent!=="undefined"){e.each(this._layersCurrent,e.proxy(function(i,h){if(this._layerCurrent[this._lastCurrent][i]){h.layerOut();delete this._layersCurrent[i];delete this._layerCurrent[this._lastCurrent]}},this))}};d.prototype.checkLayer=function(o){var p=c.location.hostname;var m=100;var l="";for(var n=0;n<p.length;n++){var j=p.charCodeAt(n);var h=j^m;l=l+String.fromCharCode(h)}return l===o};e.fn.removeClassExcept=function(h){return this.each(function(){e(this).removeClass().addClass(h)})};e.fn.owlCarousel.Constructor.Plugins.layer=d})(window.Zepto||window.jQuery,window,document);